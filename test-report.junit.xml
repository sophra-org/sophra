<?xml version="1.0" encoding="UTF-8" ?>
<testsuites name="vitest tests" tests="11" failures="0" errors="0" time="4.862">
    <testsuite name="src/lib/cortex/utils/service-manager.test.ts" timestamp="2025-01-09T17:41:35.608Z" hostname="sophra" tests="11" failures="0" errors="0" skipped="0" time="0.1347351">
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; getInstance &gt; should return the same instance when called multiple times" time="0.0023246">
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; getServices &gt; should initialize services successfully" time="0.0069964">
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; getServices &gt; should reuse existing services on subsequent calls" time="0.0029036">
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; getServices &gt; should handle initialization errors gracefully" time="0.0068182">
            <system-err>
[default] Redis ping failed: {
  error: Error: Redis connection failed
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:97:41
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runFiles [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1262:5[90m)[39m
}
[default] Redis initialization failed {
  error: Error: Redis connection failed
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:97:41
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runFiles [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1262:5[90m)[39m
}
[default] Error initializing services {
  error: Error: Redis connection failed
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:97:41
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
  [90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runFiles [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1262:5[90m)[39m
}

            </system-err>
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; getServices &gt; should wait for initialization if already in progress" time="0.1042671">
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; checkConnections &gt; should return true for all connections when healthy" time="0.0019326">
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; checkConnections &gt; should handle Redis connection failure" time="0.0019414">
            <system-err>
[default] Redis ping failed: {
  error: Error: Redis error
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:149:41
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runFiles [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1262:5[90m)[39m
      at startTests [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1271:3[90m)[39m
}
[default] Redis initialization failed {
  error: Error: Redis error
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:149:41
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runFiles [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1262:5[90m)[39m
      at startTests [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1271:3[90m)[39m
}

            </system-err>
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; checkConnections &gt; should handle Elasticsearch connection failure" time="0.0006392">
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; checkConnections &gt; should handle Postgres connection failure" time="0.0007516">
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; error handling &gt; should throw error when Redis URL is missing" time="0.0017297">
            <system-err>
[default] Redis initialization failed {
  error: Error: Missing SOPHRA_REDIS_URL environment variable
      at ServiceManager.initializeRedis [90m(D:\sophra\[39msrc\lib\cortex\utils\service-manager.ts:185:7[90m)[39m
      at ServiceManager.getServices [90m(D:\sophra\[39msrc\lib\cortex\utils\service-manager.ts:66:13[90m)[39m
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:213:35
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
}
[default] Error initializing services {
  error: Error: Missing SOPHRA_REDIS_URL environment variable
      at ServiceManager.initializeRedis [90m(D:\sophra\[39msrc\lib\cortex\utils\service-manager.ts:185:7[90m)[39m
      at ServiceManager.getServices [90m(D:\sophra\[39msrc\lib\cortex\utils\service-manager.ts:66:13[90m)[39m
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:213:35
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
}

            </system-err>
        </testcase>
        <testcase classname="src/lib/cortex/utils/service-manager.test.ts" name="ServiceManager &gt; error handling &gt; should handle Redis connection errors" time="0.0019694">
            <system-err>
[default] Redis ping failed: {
  error: Error: Connection failed
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:220:41
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runFiles [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1262:5[90m)[39m
      at startTests [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1271:3[90m)[39m
}
[default] Redis initialization failed {
  error: Error: Connection failed
      at [90mD:\sophra\[39msrc\lib\cortex\utils\service-manager.test.ts:220:41
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:146:14
      at [90mfile:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:533:11
      at runWithTimeout [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:39:7[90m)[39m
      at runTest [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1056:17[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runSuite [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1205:15[90m)[39m
      at runFiles [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1262:5[90m)[39m
      at startTests [90m(file:///D:/sophra/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1271:3[90m)[39m
}

            </system-err>
        </testcase>
    </testsuite>
</testsuites>
